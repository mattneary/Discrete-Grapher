<!DOCTYPE>
<html>
	<head>
		<title>Graph Renderer</title>
		<script src="tree.js"></script>
	</head>
	<body>
		<canvas id="cvs" width="600" height="600"></canvas>
		<script>
			var cvs = document.getElementById('cvs'),
				ctx = cvs.getContext('2d');						
			
			var color = function(word) {
				var rands = [Math.floor(Math.random()*205),
							Math.floor(Math.random()*205),
							Math.floor(Math.random()*205)];
				return word+",#"+rands.map(function(rand) {
					return (rand+50).toString(16)
				}).join("");
			};
			
			var colors = {},				
				codes = function(id) {
					return id;
				},
				uniq = {};
			var bonds = [["2996480","3360899",1],["3719990","3580590",1],["3669079","3709963",1],["4418964","2300260",1],["3853936","2988838",1],["4187125","3089958",1],["2087377","4610339",1],["4010280","4751539",1],["3386794","3140074",1],["2988838","3140074",1],["2556061","3140074",1],["4823690","3140074",1],["4917891","3140074",1],["4789577","4595398",1],["4683571","4595398",1],["2836029","4595398",1],["4284767","2858649",1],["3994450","2858649",1],["4291807","2672135",1],["4152530","2672135",1],["2996480","2672135",1],["3853936","2929320",1],["4418964","2929320",1],["4088849","2929320",1],["3818251","3149274",1],["3671703","4570240",1],["4802878","4418964",1],["3124938","4418964",1],["3158168","4418964",1],["3348469","4487192",1],["3158168","4487192",1],["4917891","4487192",1],["3438772","4487192",1],["4423929","4755233",1],["4880812","4755233",1],["4917891","4810593",1],["3075106","4623048",1],["4837112","4623048",1],["3097510","4623048",1],["4554405","4623048",1],["3818251","3037072",1],["4611192","3037072",1],["3019179","3037072",1],["4399700","3037072",1],["3139713","3552570",1],["3066702","3552570",1],["3719990","3552570",1],["3075106","4566093",1],["3208271","4566093",1],["3230672","4566093",1],["4623048","3230672",1],["3411312","3230672",1],["2556061","3230672",1],["3597566","4399700",1],["3669079","4001462",1],["3672657","3994450",1],["4586768","3994450",1],["3552570","3994450",1],["3249863","2814315",1],["4433578","2814315",1],["2087377","2814315",1],["3522934","2814315",1],["3063250","4397909",1],["3597566","4397909",1],["4410003","3934869",1],["3264307","3934869",1],["4016036","3934869",1],["4786998","3320312",1],["2672135","4770940",1],["4215090","4770940",1],["4586768","4770940",1],["4623048","4575492",1],["3669079","4575492",1],["3245752","4575492",1],["4442653","4575492",1],["3968340","4575492",1],["2903532","3081028",1],["4823374","3262485",1],["4861028","3262485",1],["4001462","3262485",1],["3659647","4829618",1],["3063250","4829618",1],["4487192","4586768",1],["3275895","4586768",1],["4175372","4586768",1],["3438772","4586768",1],["4880812","3063509",1],["4427593","3063509",1],["3066702","3063509",1],["3659647","4872611",1],["3382028","4872611",1],["3360899","4186624",1],["2742483","4186624",1],["3834612","3411312",1],["3853224","3411312",1],["4345434","3411312",1],["3552570","3411312",1],["4399700","3411312",1],["4610339","4823374",1],["3320312","4823374",1],["4575492","4823374",1],["3262485","4823374",1],["3464923","4823374",1],["4423929","4880812",1],["3249863","4296732",1],["4802878","4296732",1],["4554405","4296732",1],["3853936","4861028",1],["4837112","4861028",1],["3140074","3075106",1],["3628751","3075106",1],["4399692","3075106",1],["3651956","3208892",1],["4621482","3208892",1],["3671703","3208892",1],["4423929","4765463",1],["4586768","4765463",1],["3036183","4765463",1],["3408580","3824902",1],["3834612","3036183",1],["2556061","3036183",1],["3597566","3036183",1],["3249863","4291807",1],["3686860","4291807",1],["3275192","4291807",1],["3438772","4291807",1],["3408580","4291807",1],["4058566","4291807",1],["4554405","3603935",1],["3081028","4427593",1],["3139713","4427593",1],["3063250","4427593",1],["4174696","4442653",1],["2584894","3139713",1],["4554405","3139713",1],["3207112","3139713",1],["4575871","2584894",1],["3066702","2584894",1],["4751539","3016392",1],["4765463","3016392",1],["3734483","3016392",1],["3152136","3016392",1],["3207112","4837112",1],["2577275","4837112",1],["3386794","4611192",1],["3597566","4611192",1],["3686860","4611192",1],["3818251","4917917",1],["4433578","4917917",1],["4418964","3230826",1],["3603935","3230826",1],["3464923","3230826",1],["4433578","3230826",1],["3814883","3230826",1],["4823233","3230826",1],["2870801","3968340",1],["2996480","3968340",1],["4058566","3968340",1],["4792560","2974762",1],["4427593","4016036",1],["3140074","3734483",1],["4789577","3734483",1],["3084605","3734483",1],["4158715","3734483",1],["4187125","3734483",1],["4358393","3734483",1],["3814883","3382028",1],["3580590","3523504",1],["2988838","3523504",1],["3208271","3523504",1],["3853224","3523504",1],["3651956","3641712",1],["2672135","4898367",1],["4002987","3348469",1],["3063509","3348469",1],["3016392","3348469",1],["3230826","3348469",1],["3110662","4399692",1],["4826559","4399692",1],["4397909","3124938",1],["3245752","3124938",1],["3719990","3124938",1],["2974762","3407392",1],["3597566","3407392",1],["4284767","3411223",1],["2858649","4284767",1],["3016392","4284767",1],["4792560","4284767",1],["4826559","4284767",1],["4002987","4152530",1],["4423929","3208271",1],["2584894","3208271",1],["3734483","2870801",1],["3207112","2870801",1],["2988838","2742483",1],["3734358","2742483",1],["4002987","3084605",1],["4374413","3084605",1],["3139713","3063250",1],["4917917","3063250",1],["4856649","4854652",1],["4792626","4010280",1],["4423929","4010280",1],["3597566","4010280",1],["4174696","4010280",1],["4010280","3243276",1],["4158715","3243276",1],["3408580","3243276",1],["4374413","4434233",1],["3084605","4434233",1],["2814315","4175372",1],["2870801","4175372",1],["3152136","4175372",1],["2903535","2556061",1],["3408580","2556061",1],["4423929","3597566",1],["4215090","3597566",1],["4442653","3597566",1],["4917891","3597566",1],["4740995","3686860",1],["4898367","3686860",1],["3158168","4008746",1],["4175372","4008746",1],["3152136","4008746",1],["3139890","4008746",1],["4770940","4823690",1],["4152530","4823690",1],["2087377","4823690",1],["3580590","4792560",1],["3814883","4792560",1],["3110662","4318759",1],["4215090","4318759",1],["4088849","4318759",1],["3994450","4098182",1],["3628751","2903532",1],["3641712","2903532",1],["4854652","2903532",1],["4452611","2903532",1],["4880812","4621482",1],["4291807","4621482",1],["3248694","4621482",1],["4841009","4621482",1],["3243276","3097510",1],["3579890","4174696",1],["2532742","4841009",1],["3245752","4841009",1],["2577275","4841009",1],["2584894","3152136",1],["2556061","3152136",1],["4621482","3152136",1],["3671703","3152136",1],["4566093","3152136",1],["3818251","4158715",1],["3195729","4158715",1],["4433578","4856649",1],["2996480","4856649",1],["4575492","3066702",1],["4442653","3066702",1],["3968340","3464923",1],["3264307","3853224",1],["3084605","3853224",1],["2656867","3853224",1],["4399700","3853224",1],["3245752","3758450",1],["3275192","3758450",1],["3408580","3758450",1],["4058566","3758450",1],["3124938","3139890",1],["3195729","4917891",1],["4786998","4917891",1],["3348469","3438772",1],["2870801","3438772",1],["4174696","3438772",1],["3522934","3438772",1],["3230672","3671703",1],["3089958","4554405",1],["4418964","4554405",1],["4770940","4554405",1],["3464923","4554405",1],["3824902","4433578",1],["3230826","4433578",1],["3968340","4433578",1],["3814883","4433578",1],["3275895","2996480",1],["4810593","3408580",1],["3464923","3408580",1],["3597566","3814883",1],["4174696","3814883",1],["3758450","3814883",1],["4829618","4345434",1],["2870801","4345434",1],["3552570","4187125",1],["3651956","3086584",1],["3934869","4786998",1],["3152136","4786998",1],["2988838","2087377",1],["4854652","2087377",1],["2577275","2087377",1],["4898367","4826559",1],["4810593","3166563",1],["3672657","3166563",1],["4765463","3166563",1],["4291807","3166563",1],["2776467","3522934",1],["4802878","3522934",1],["3994450","3522934",1],["3245752","3019179",1],["4570240","2656867",1],["4770940","2656867",1],["3255974","2656867",1],["4318759","2656867",1],["4187125","4838453",1],["4595398","4058566",1],["4418964","4823233",1],["4837112","4823233",1],["2486967","3734358",1],["3124938","3734358",1],["4610339","4358393",1],["4595398","4358393",1],["2742483","4358393",1],["3580590","4575871",1],["3016392","4575871",1],["4917891","4575871",1],["3628751","2903535",1],["4786998","2903535",1],["4765463","2532742",1],["3994450","2532742",1],["3411223","2945144",1],["3275192","2945144",1],["3139890","2945144",1],["3086584","2945144",1],["4802878","3818251",1],["4837112","3818251",1],["2858649","3110662",1],["3407392","3110662",1],["4854652","3110662",1],["4098182","3110662",1],["2988838","3386794",1],["4792626","3386794",1],["4802878","3386794",1],["4765463","3960656",1],["3411223","3960656",1],["2532742","2776467",1],["3818251","2776467",1],["4683571","2776467",1],["4399692","2776467",1],["2996480","2776467",1],["4595398","3853936",1],["3139890","3853936",1],["4917917","4002987",1],["3641712","4002987",1],["3084605","4002987",1],["3818251","4423929",1],["4789577","4423929",1],["4683571","4423929",1],["4755233","4423929",1],["4809982","2836029",1],["4917917","2836029",1],["3641712","2836029",1],["4837112","4410003",1],["3230826","4410003",1],["4595398","4802878",1],["3264307","4802878",1],["4623048","4215090",1],["3275895","4215090",1],["4016036","3651956",1],["3089958","3245752",1],["2974762","3245752",1],["3066702","3245752",1],["4410003","3628751",1],["4765463","3628751",1],["3669079","3886873",1],["3886873","3886873",1],["3672657","3886873",1],["3968340","3886873",1],["4152530","3886873",1],["3084605","3886873",1],["3019179","3886873",1],["2945144","4809982",1],["4442653","4809982",1],["2996480","4809982",1],["3580590","3579890",1],["3230826","3579890",1],["2087377","3579890",1],["4683571","3834612",1],["4829618","3834612",1],["3097510","3834612",1],["4433578","3834612",1],["2087377","3834612",1],["2486967","3659647",1],["3075106","3659647",1],["3262485","3672657",1],["2584894","3672657",1],["4856649","3672657",1],["4861028","3275192",1],["3139890","3275192",1],["4452611","3275192",1]].filter(function(bond) {
				if( uniq[bond] ) {
					return false;
				} else {
					uniq[bond] = true;
					uniq[[bond[1], bond[0], 1]] = true;
					return true;
				}				
			}).map(function(bond) {
				return [codes(bond[0]), codes(bond[1]), 1];
			}).map(function(bond) {
				colors[bond[0]] = colors[bond[0]] || color(bond[0]);
				colors[bond[1]] = colors[bond[1]] || color(bond[1]);
				return [colors[bond[0]], colors[bond[1]], 1];
			});			
			var tree = new Tree(bonds);
			tree.draw(ctx);
		</script>
	</body>
</html>